+++
title = 'Руководство по энкодерам'
date = 2025-03-20
author = "Иван Селезнёв"
tags = ["guide"]
+++

![image](/images/encoders/1.png)

Для начала немного общей информации о том что такое энкодеры.  
Основной принцип их работы состоит в том, что когда пользователь крутит ручку энкодера, на каждые n градусов поворота отправляется нажатие определенной клавиши.  
Это полезно в сценариях когда требуется многократно нажимать одну и ту же клавишу, например, мы можем назначить на энкодер функцию регулирования громкости, и т.к. крутить энкодер можно в два направления: по часовой, и против часовой - мы можем назначить на одно направление увеличение громкости звука, а на другое уменьшение. С энкодерами регулирование громкости становится очень доступным и удобным, и из-за тактильного отклика энкодера даже немного приятным процессом.  
Также, помимо прокрутки, энкодеры можно нажимать, и функция по нажатию может быть совершенно любой, например, макрос или выключение микрофона.

На одном лишь регулировании громкости варианты применения не заканчиваются, но о них поговорим немного позже.

### Про хотсвап
С недавнего времени в клавиатурах К:03, K:03 Pro и Imperial44 появилась интересная фича - горячая замена энкодера. 
Энкодеры можно установить в 6 мест по 3 на каждой половинке клавиатуры, на Imperial44 по 1 на половинку.  
Делается это очень просто - вставляем энкодер в сокет также как вставляем свитчи. 

Места куда можно поставить энкодер отличаются наличием 4 дополнительных круглых контактов. 

![image](/images/encoders/2.png)


При установке энкодеров надо удостовериться, что позолоченные коннекторы энкодера попадают на контакты.

![image](/images/encoders/3.png)


Самое доступное место - на нижнем ряду, так смещать руку приходится меньше всего. Но если привык дотягиваться указательными пальцами до клавиш в этом месте - можно переставить энкодер на верхний ряд.

Удобство горячей замены энкодера в том, что можно потестировать его в разных положениях и выбрать подходящее под свои нужды.

![image](/images/encoders/4.gif)


Вытаскиваются энкодеры также просто, как устанавливаются: берем свитчпулер (инструмент для вытаскивания свитчей), поддеваем защелки, и вуаля, энкодер вытащен, а на место вытащенного энкодера отлично встают свитчи.

P.S.: Защелки лучше сжимать не сверху и снизу как у свитчей, а по бокам, мне показалось что так энкодеры вытаскиваются легче.

![image](/images/encoders/5.png)


После перестановки энкодеров надо не забыть изменить конфигурацию энкодеров в Vial'е, делается это на вкладке Layout. Скрываем неиспользуемые энкодеры, оставлям нужные.

![image](/images/encoders/6.gif)


### Примеры использования

Некоторые варианты использования напрашиваются сразу, например, регулировка громкости или яркости экрана, но можно придумать и действительно занимательные варианты, как, например, заведение помодоро-таймера.
#### 1) Регулировка громкости звука
На действия энкодера назначаем "Vol +" и "Vol -" с вкладки "App, Media and Mouse". В сочетание к этому на клик энкодера можно назначить например полное включение/выключение звука (Mute, вкладка "App, Media and Mouse"), или выключение микрофона (тут в зависимости от ОС потребуются дополнительные инструменты. У себя реализовал на Win через PowerToys, а на MacOS через MuteKey)

![image](/images/encoders/7.gif)


#### 2) Скролл при использовании мышиного слоя
Некоторые пользователи настраивают себе в клавиатуре отдельный слой с клавишами мышки, куда назначают и клавиши для управления курсором, и клавиши мыши. На этот слой довольно лаконично может вписаться настройка энкодера под скролл вверх/вниз. Крутим энкодер - скроллим вверх/вниз. А на нажатие энкодера можно назначить клик колесом мыши (Mouse 3, вкладка "App, Media and Mouse").

![image](/images/encoders/8.png)


#### 3) Переключение между открытыми приложениями (Alt-Tab)
Интересным вариантом использования энкодера может стать назначение на него действий Next Win и Prev Win с вкладки User Vial'а. Эти клавиши жмут Alt (Opt на маке) + Tab, затем немного ждут не нажата ли клавиша еще раз (на случай если надо переключиться не на последнее приложение, а например, через одно), и если не нажата, то Alt + Tab отпускается и приложение открыто. 

![image](/images/encoders/9.png)

#### 4) Переключение рабочих столов
Для переключения рабочих столов нам помогут функции с вкладки Quantum: для MacOS биндим на энкодер LGui(KC_Left) и LGui(KC_Right), для Windows LCG(KC_Left) и LCG(KC_Right).

![image](/images/encoders/10.png)

#### 5) Регулировка яркости экрана
Не очень часто используемая штука, удобно назначить в один из неосновных слоев.

![image](/images/encoders/11.gif)

#### 6) Переключение вкладок браузера
В зависимости от используемой ОС и браузера хоткеи могут отличаться, на MacOS в Zen браузере использую клавиши LCS(KC_LBRACKET) и LCS(KC_RBRACKET) с вкладки "Quantum".

![image](/images/encoders/12.png)

#### 7) Таймер
С помощью энкодера реализовал для себя некий аналог физического помодоро-таймера. Тут без сторонних приложений не обойтись, на MacOS использовал таймер Onigiri.
На нажатие энкодера в основном слое назначил макрос, открывающий приложение с таймером, и активирующий 11 слой на клавиатуре. На 11 слое на поворот энкодера назначены стрелки влево и вправо, и таким образом при прокрутке энкодера регулируется длительность устанавливаемого таймера. С щелчками энкодера регулировка времени таймера ощущается очень приятно! Когда время выставлено, снова тапаю по энкодеру, это выключает 11 слой и жмакает клавишу Enter, чтобы запустить таймер.

Итого флоу заведение таймера выглядит так:
1) Тап энкодера
2) Регулирую длительность таймера прокруткой энкодера
3) Снова тап энкодера, и вуаля, таймер работает.

![image](/images/encoders/13.gif)

Конечно до полноценного помодоро-таймера тут далеко, но пока более подходящего решения для этого кейса не нашел. 
Надеюсь, когда-нибудь ребята из эргохевен приделают энкодер и к планете, подшаманят в прошивке, и динамик клавиатуры запоет мне о очередной прошедшей сессии фокусировки!

### Послесловие
Надеюсь, после прочтения статьи у читателя сложилось понимание того, для каких задач можно использовать энкодеры и какие проблемы они могут решить. Если у Вас все еще остаются сомнения касательно необходимости энкодеров - рекомендую попробовать, ведь  благодаря новой фиче с горячей заменой, гвоздями к клавиатуре энкодер не прибит. В крайнем случае, если вдруг энкодер ну совсем будет не по душе ни в одном расположении, его можно разместить в части клавиатуры, которую используете меньше всего, оставить на нем только тап функцию, и крутить его ради приятных тактильных ощущений :)

![image](/images/encoders/14.jpg)

Автор статьи: [Иван Селезнёв](https://t.me/Wanyan1337)  
Обсуждение в нашей [телеграм-группе](https://t.me/+E-mlq11c97AyZmY6)
